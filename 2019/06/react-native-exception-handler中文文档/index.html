<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="ohZ0A8YKJu755suq7WOIJkLGDfj3BGU4isb8RKI5Cj8">
  <meta name="baidu-site-verification" content="I63O4XWtSs">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"youngjuning.js.org","root":"/","scheme":"Gemini","version":"7.7.1","exturl":true,"sidebar":{"position":"left","width":310,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":true,"nav":null,"activeClass":"disqus"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="react-native-exception-handler  一个允许您注册一个全局错误处理程序，可以捕获致命&#x2F;非致命未捕获异常 的 react native 模块。该模块有助于防止 RN 应用程序突然崩溃，而无需向用户发送优雅消息 在当前的情况下：  DEV mode：你会得到一个程序错误的红屏警告 Bundled mode：App 在没有任何提示的情况下退出！🙄  为了解决这个问题，我们注">
<meta property="og:type" content="article">
<meta property="og:title" content="react-native-exception-handler 中文文档">
<meta property="og:url" content="http://youngjuning.js.org/2019/06/react-native-exception-handler%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/">
<meta property="og:site_name" content="杨俊宁的博客">
<meta property="og:description" content="react-native-exception-handler  一个允许您注册一个全局错误处理程序，可以捕获致命&#x2F;非致命未捕获异常 的 react native 模块。该模块有助于防止 RN 应用程序突然崩溃，而无需向用户发送优雅消息 在当前的情况下：  DEV mode：你会得到一个程序错误的红屏警告 Bundled mode：App 在没有任何提示的情况下退出！🙄  为了解决这个问题，我们注">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.shields.io/npm/dm/react-native-exception-handler.svg">
<meta property="og:image" content="https://nodei.co/npm/react-native-exception-handler.png?downloads=true&downloadRank=true&stars=true">
<meta property="og:image" content="https://github.com/master-atul/react-native-exception-handler/raw/master/screens/android_native_exception.png">
<meta property="og:image" content="https://github.com/master-atul/react-native-exception-handler/raw/master/screens/ios_native_exception.png">
<meta property="article:published_time" content="2019-06-11T06:20:44.000Z">
<meta property="article:modified_time" content="2019-06-11T06:20:44.000Z">
<meta property="article:author" content="杨俊宁">
<meta property="article:tag" content="翻译">
<meta property="article:tag" content="exception">
<meta property="article:tag" content="error">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.shields.io/npm/dm/react-native-exception-handler.svg">

<link rel="canonical" href="http://youngjuning.js.org/2019/06/react-native-exception-handler%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>react-native-exception-handler 中文文档 | 杨俊宁的博客</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158205277-1"></script>
    <script pjax>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-158205277-1');
      }
    </script>


  <script pjax>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a1319c6a7cb0e5cc6572a6181c7e949c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="杨俊宁的博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">杨俊宁的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">怕什么真理无穷，进一寸有一寸的欢喜</h1>
      
  </div>

  <div class="site-nav-right"></div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">71</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">64</span></a>

  </li>
        <li class="menu-item menu-item-书单">

    <a href="/books/" rel="section"><i class="fa fa-fw fa-book"></i>书单</a>

  </li>
        <li class="menu-item menu-item-歌单">

    <a href="/music/" rel="section"><i class="fa fa-fw fa-music"></i>歌单</a>

  </li>
        <li class="menu-item menu-item-收藏夹">

    <a href="/collections/" rel="section"><i class="fa fa-fw fa-star"></i>收藏夹</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://youngjuning.js.org/2019/06/react-native-exception-handler%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="杨俊宁">
      <meta itemprop="description" content="前端工程师、终身学习践行者">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨俊宁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          react-native-exception-handler 中文文档<span class="exturl post-edit-link" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lvdW5nanVuaW5nL3lvdW5nanVuaW5nL3RyZWUvbWFzdGVyL3NvdXJjZS9fcG9zdHMvMjAxOS8wNi9yZWFjdC1uYXRpdmUtZXhjZXB0aW9uLWhhbmRsZXLkuK3mlofmlofmoaMubWQ=" title="编辑"><i class="fa fa-pencil"></i></span>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-06-11 14:20:44" itemprop="dateCreated datePublished" datetime="2019-06-11T14:20:44+08:00">2019-06-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hybrid/" itemprop="url" rel="index">
                    <span itemprop="name">Hybrid</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hybrid/React-Native/" itemprop="url" rel="index">
                    <span itemprop="name">React Native</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="react-native-exception-handler"><a href="#react-native-exception-handler" class="headerlink" title="react-native-exception-handler "></a>react-native-exception-handler <img src="https://img.shields.io/npm/dm/react-native-exception-handler.svg" alt="npm"></h1><p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/react-native-exception-handler"><img src="https://nodei.co/npm/react-native-exception-handler.png?downloads=true&downloadRank=true&stars=true" alt="https://nodei.co/npm/react-native-exception-handler.png?downloads=true&amp;downloadRank=true&amp;stars=true"></a></p>
<p>一个允许您注册一个全局错误处理程序，可以捕获致命/非致命未捕获异常 的 react native 模块。该模块有助于防止 RN 应用程序突然崩溃，而无需向用户发送优雅消息</p>
<p>在当前的情况下：</p>
<ul>
<li><code>DEV mode</code>：你会得到一个程序错误的红屏警告</li>
<li><code>Bundled mode</code>：App 在没有任何提示的情况下退出！🙄</li>
</ul>
<p>为了解决这个问题，我们注册了一个全局错误处理程序，可用于例如：</p>
<ol>
<li>当 App 崩溃时给开发团队发送 BUG 反馈</li>
<li>展示一个交互式的弹窗告诉用户应该重启应用</li>
</ol>
<h4 id="升级-V2"><a href="#升级-V2" class="headerlink" title="升级 - V2:"></a>升级 - V2:</h4><p><strong>V2 现在支持捕获未处理的原生和 JS 异常 ✌🏻🍻</strong>，这是向后兼容的。因此你可以安全地从 V1 升级到 V2，快快升级吧。</p>
<p><strong>V2.9</strong></p>
<ul>
<li>添加对执行先前设置的错误处理程序的支持（现在这个模块可以与其他分析模块一起使用）</li>
<li>添加了一种改进的方法来覆盖本机错误处理程序。</li>
<li>感谢 @ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Rzb2xpbWFuZG8=" title="https://github.com/dsolimando">Damien Solimando<i class="fa fa-external-link"></i></span></li>
</ul>
<blockquote>
<p>Demo：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21hc3Rlci1hdHVsL3JlYWN0LW5hdGl2ZS1leGNlcHRpb24taGFuZGxlci1leGFtcGxl" title="https://github.com/master-atul/react-native-exception-handler-example">https://github.com/master-atul/react-native-exception-handler-example<i class="fa fa-external-link"></i></span></p>
</blockquote>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add react-native-exception-handler</span><br></pre></td></tr></table></figure>

<h2 id="自动化配置"><a href="#自动化配置" class="headerlink" title="自动化配置"></a>自动化配置</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ react-native link react-native-exception-handler</span><br></pre></td></tr></table></figure>

<h2 id="手动配置"><a href="#手动配置" class="headerlink" title="手动配置"></a>手动配置</h2><h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><ol>
<li>In XCode, in the project navigator, right click <code>Libraries</code> ➜ <code>Add Files to [your project&#39;s name]</code></li>
<li>Go to <code>node_modules</code> ➜ <code>react-native-exception-handler</code> and add <code>ReactNativeExceptionHandler.xcodeproj</code></li>
<li>In XCode, in the project navigator, select your project. Add <code>libReactNativeExceptionHandler.a</code> to your project’s <code>Build Phases</code> ➜ <code>Link Binary With Libraries</code></li>
<li>Run your project (<code>Cmd+R</code>)&lt;</li>
</ol>
<h5 id="Using-Cocoapods"><a href="#Using-Cocoapods" class="headerlink" title="Using Cocoapods"></a>Using Cocoapods</h5><ol>
<li>add <code>pod &#39;ReactNativeExceptionHandler&#39;, :podspec =&gt; &#39;../node_modules/react-native-exception-handler/ReactNativeExceptionHandler.podspec&#39;</code> to your Podfile</li>
<li>run <code>pod install</code></li>
</ol>
<h4 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h4><ol>
<li>Open up <code>android/app/src/main/java/[...]/MainApplication.java</code></li>
</ol>
<ul>
<li>Add <code>import com.masteratul.exceptionhandler.ReactNativeExceptionHandlerPackage;</code> to the imports at the top of the file</li>
<li>Add <code>new ReactNativeExceptionHandlerPackage()</code> to the list returned by the <code>getPackages()</code> method</li>
</ul>
<ol start="2">
<li>Append the following lines to <code>android/settings.gradle</code>:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">include &#39;:react-native-exception-handler&#39;</span><br><span class="line">project(&#39;:react-native-exception-handler&#39;).projectDir &#x3D; new File(rootProject.projectDir,     &#39;..&#x2F;node_modules&#x2F;react-native-exception-handler&#x2F;android&#39;)</span><br></pre></td></tr></table></figure></li>
<li>Insert the following lines inside the dependencies block in <code>android/app/build.gradle</code>:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile project(&#39;:react-native-exception-handler&#39;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="请在使用部分之前阅读"><a href="#请在使用部分之前阅读" class="headerlink" title="请在使用部分之前阅读"></a>请在使用部分之前阅读</h2><p>让我先给你介绍下 RN App 中的错误：</p>
<ul>
<li>由 Javascript 代码引起的（包括所有的 react 代码）。我们将把这些标记为 <strong>JS_Exceptions</strong></li>
<li>由原生代码引起的。我们将把他们标记为 <strong>Native_Exceptions</strong></li>
</ul>
<p>未处理的异常会使应用程序处于严重状态</p>
<p>在 <strong>JS_Exceptions</strong> 的情况下，您可以捕获这些未处理的异常并执行显示警报或弹出窗口，在关闭应用程序之前，先进行清理甚至调用 API 以通知开发团队</p>
<p>在 <strong>Native_Exceptions</strong> 的情况下，它变得更糟。虽然您可以捕获这些未处理的异常并执行清理或注销等任务，甚至可以在关闭应用程序之前点击 API 以通知开发团队，但是你不能展示 JS 弹窗或者通过 JS 代码做任何 UI 相关的事情。你必须通过原生层来展示 UI，这个模块提供一个默认的错误页面，当然你也可以自定义，请参考后边自定义的部分</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>捕获 <strong>JS_Exceptions</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; setJSExceptionHandler, getJSExceptionHandler &#125; <span class="keyword">from</span> <span class="string">&#x27;react-native-exception-handler&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于大多数用例:</span></span><br><span class="line"><span class="comment">// 注册错误处理器（你可以在 index.js 中做这个事情）</span></span><br><span class="line">setJSExceptionHandler(<span class="function">(<span class="params">error, isFatal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 这是你自定义的全局错误处理器</span></span><br><span class="line">  <span class="comment">// 你可以做一些像是展示弹窗、触发谷歌分析来跟踪崩溃或触发自定义的api来通知开发团队</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 高级用例:</span></span><br><span class="line"><span class="keyword">const</span> JSExceptionhandler = <span class="function">(<span class="params">error, isFatal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 你的错误处理程序</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// exceptionhandler：错误处理回调函数</span></span><br><span class="line"><span class="comment">// allowInDevMode：一个可选的布尔类型参数，默认false。如果你设置为 true，在开发模式下也会组织红屏</span></span><br><span class="line">setJSExceptionHandler(exceptionhandler, allowInDevMode)</span><br><span class="line"></span><br><span class="line"><span class="comment">// getJSExceptionHandler 给出当前设置的 JS exception handler</span></span><br><span class="line"><span class="keyword">const</span> currentHandler = getJSExceptionHandler()</span><br></pre></td></tr></table></figure>

<p>捕获 <strong>Native_Exceptions</strong></p>
<blockquote>
<p>注意：正如前文提到的，对于<strong>Native_Exceptions</strong> 弹窗提示或者通过 JS 展示任何 UI 都是不起作用的</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; setNativeExceptionHandler &#125; <span class="keyword">from</span> <span class="string">&#x27;react-native-exception-handler&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于大多数用例:</span></span><br><span class="line">setNativeExceptionHandler(<span class="function"><span class="params">errorString</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 这是你自定义的全局错误处理器</span></span><br><span class="line">  <span class="comment">// 你可以触发谷歌分析来跟踪崩溃或触发自定义的api来通知开发团队</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 高级用例:</span></span><br><span class="line"><span class="keyword">const</span> NativeExceptionhandler = <span class="function"><span class="params">exceptionString</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// your exception handler code here</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// exceptionhandler：错误处理回调函数</span></span><br><span class="line"><span class="comment">// forceAppQuit：是一个可选的 ANDROID 特定参数，用于定义错误发生时是否应用程序应该强制退出。默认是 true</span></span><br><span class="line"><span class="comment">// executeDefaultHandler：是一个可选的布尔类型参数，如果你通过其它模块设置了，它将会先执行。当您使用任何其他崩溃分析模块时，它会派上用场，默认值是 false，如果你使用其他分析模块，请设置为 true</span></span><br><span class="line">setNativeExceptionHandler(exceptionhandler, forceAppQuit, executeDefaultHandler)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：<strong>setNativeExceptionHandler</strong> 只在 bundled 模式下起作用 - 开发模式下还是红屏</p>
</blockquote>
<h2 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h2><p>默认情况下，如果您使用了 <code>setNativeExceptionHandler</code>，则每当发生 <code>Native_Exceptions</code> 时，连同指定的回调，您将看到一个弹出窗口（这是此模块设置的默认原生处理程序）</p>
<p>在 Android 和 iOS 中你会看到类似的东西：</p>
<p align="center">
  <img src="https://github.com/master-atul/react-native-exception-handler/raw/master/screens/android_native_exception.png" width="300"/>
  <img src="https://github.com/master-atul/react-native-exception-handler/raw/master/screens/ios_native_exception.png" width="300"/>
</p>

<h3 id="Android-1"><a href="#Android-1" class="headerlink" title="Android"></a>Android</h3><p>（必须写原生代码）建议您在 android studio 中执行此操作</p>
<ul>
<li>In the <code>android/app/src/main/java/[...]/MainApplication.java</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.masteratul.exceptionhandler.ReactNativeExceptionHandlerModule;</span><br><span class="line"><span class="keyword">import</span> com.masteratul.exceptionhandler.NativeExceptionHandlerIfc</span><br><span class="line">...</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApplication</span> <span class="keyword">extends</span> <span class="title">Application</span> <span class="keyword">implements</span> <span class="title">ReactApplication</span> </span>&#123;</span><br><span class="line">...</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ....</span><br><span class="line">    ReactNativeExceptionHandlerModule.setNativeExceptionHandler(<span class="keyword">new</span> NativeExceptionHandlerIfc() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleNativeException</span><span class="params">(Thread thread, Throwable throwable, Thread.UncaughtExceptionHandler originalHandler)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> 在这放置你的错误处理代码</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);<span class="comment">// This will override the default behaviour of displaying the recover activity.</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="ios"><a href="#ios" class="headerlink" title="ios"></a>ios</h3><p>（必须写原生代码）建议您在 Xcode 中执行此操作</p>
<p>与 Android 不同，在 iOS 的情况下，如果应用程序崩溃，则无法重新启动应用程序。此外，在 Native_Exceptions 期间，由于主 UI 线程上发生异常，UI 变得非常不稳定。因此，点击或按下处理程序都不会起作用。</p>
<blockquote>
<p>牢记这些，我们最多只能向用户显示一个对话框并通知用户重新打开该应用程序</p>
</blockquote>
<p>如果您注意到默认的本机异常弹出窗口就是这样做的。自定义弹出窗口的 UI。</p>
<ul>
<li>In XCode, open the file <code>AppDelegate.m</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;AppDelegate.h&quot;</span><br><span class="line"></span><br><span class="line">#import &lt;React&#x2F;RCTBundleURLProvider.h&gt;</span><br><span class="line">#import &lt;React&#x2F;RCTRootView.h&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;Add the header file</span><br><span class="line">#import &quot;ReactNativeExceptionHandler.h&quot;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">@implementation AppDelegate</span><br><span class="line"></span><br><span class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">[ReactNativeExceptionHandler replaceNativeExceptionHandlerBlock:^(NSException *exception, NSString *readeableException)&#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; THE CODE YOU WRITE HERE WILL REPLACE THE EXISTING NATIVE POPUP THAT COMES WITH THIS MODULE.</span><br><span class="line">    &#x2F;&#x2F;We create an alert box</span><br><span class="line">    UIAlertController* alert &#x3D; [UIAlertController</span><br><span class="line">                                alertControllerWithTitle:@&quot;Critical error occurred&quot;</span><br><span class="line">                                message: [NSString stringWithFormat:@&quot;%@\n%@&quot;,</span><br><span class="line">                                          @&quot;Apologies..The app will close now \nPlease restart the app\n&quot;,</span><br><span class="line">                                          readeableException]</span><br><span class="line">                                preferredStyle:UIAlertControllerStyleAlert];</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; We show the alert box using the rootViewController</span><br><span class="line">    [rootViewController presentViewController:alert animated:YES completion:nil];</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; THIS IS THE IMPORTANT PART</span><br><span class="line">    &#x2F;&#x2F; By default when an exception is raised we will show an alert box as per our code.</span><br><span class="line">    &#x2F;&#x2F; But since our buttons wont work because our click handlers wont work.</span><br><span class="line">    &#x2F;&#x2F; to close the app or to remove the UI lockup on exception.</span><br><span class="line">    &#x2F;&#x2F; we need to call this method</span><br><span class="line">    &#x2F;&#x2F; [ReactNativeExceptionHandler releaseExceptionHold]; &#x2F;&#x2F; to release the lock and let the app crash.</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Hence we set a timer of 4 secs and then call the method releaseExceptionHold to quit the app after</span><br><span class="line">    &#x2F;&#x2F; 4 secs of showing the popup</span><br><span class="line">    [NSTimer scheduledTimerWithTimeInterval:4.0</span><br><span class="line">                                     target:[ReactNativeExceptionHandler class]</span><br><span class="line">                                   selector:@selector(releaseExceptionHold)</span><br><span class="line">                                   userInfo:nil</span><br><span class="line">                                    repeats:NO];</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; or  you can call</span><br><span class="line">    &#x2F;&#x2F; [ReactNativeExceptionHandler releaseExceptionHold]; when you are done to release the UI lock.</span><br><span class="line">  &#125;];</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"> return YES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>What is this <code>[ReactNativeExceptionHandler releaseExceptionHold];</code>?</p>
<p>In case of iOS we lock the UI thread after we show our popup to prevent the app from closing. Hence once we are done showing the popup we need to close our app after some time. But since our buttons wont work as our click handlers wont work (explained before). To close the app or to remove the UI lockup on exception, we need to call this method <code>[ReactNativeExceptionHandler releaseExceptionHold];</code></p>
<p>Hence we set a timer of 4 secs and then call the method releaseExceptionHold to quit the app after 4 secs of showing the popup</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[NSTimer scheduledTimerWithTimeInterval:4.0</span><br><span class="line">                                 target:[ReactNativeExceptionHandler class]</span><br><span class="line">                               selector:@selector(releaseExceptionHold)</span><br><span class="line">                               userInfo:nil</span><br><span class="line">                                repeats:NO];</span><br></pre></td></tr></table></figure>

<h2 id="给安卓平台的高级用法"><a href="#给安卓平台的高级用法" class="headerlink" title="给安卓平台的高级用法"></a>给安卓平台的高级用法</h2><ul>
<li><p>react-native-restart：错误发生时，允许用户手动重启应用</p>
</li>
<li><p>BackAndroid.exitApp：错误发生时，允许用户手动退出应用</p>
</li>
</ul>
<h2 id="测试原生错误"><a href="#测试原生错误" class="headerlink" title="测试原生错误"></a>测试原生错误</h2><p><code>rn-test-exception-handler</code> 模块只做一件事，引起一个 <strong>Native_Exceptions</strong>。这有助于您验证自定义和此模块的能.</p>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2019/06/babel-plugin-root-import中文文档/" rel="bookmark">babel-plugin-root-import中文文档</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/08/【译】在 React Native TypeScript 项目中使用 defaultProps/" rel="bookmark">【译】在 React Native TypeScript 项目中使用 defaultProps</a></div>
    </li>
  </ul>

        <div class="reward-container">
  <div>赞赏是对我最大的支持！</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="杨俊宁 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="杨俊宁 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>杨俊宁
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://youngjuning.js.org/2019/06/react-native-exception-handler%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/" title="react-native-exception-handler 中文文档">http://youngjuning.js.org/2019/06/react-native-exception-handler中文文档/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

            <div class="social-item">
              <a target="_blank" class="social-link" href="/images/xingqiu.png">
                <span class="icon">
                  <i class="fa fa-circle-o-notch"></i>
                </span>

                <span class="label">知识星球</span>
              </a>
            </div>

            <div class="social-item">
              <a target="_blank" class="social-link" href="/images/wechat_channel.jpeg">
                <span class="icon">
                  <i class="fa fa-wechat"></i>
                </span>

                <span class="label">WeChat</span>
              </a>
            </div>

            <div class="social-item">
              <a target="_blank" class="social-link" href="/atom.xml">
                <span class="icon">
                  <i class="fa fa-rss"></i>
                </span>

                <span class="label">RSS</span>
              </a>
            </div>
    </div>
  </div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag"><i class="fa fa-tag"></i> 翻译</a>
              <a href="/tags/exception/" rel="tag"><i class="fa fa-tag"></i> exception</a>
              <a href="/tags/error/" rel="tag"><i class="fa fa-tag"></i> error</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/06/react-native-create-library%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/" rel="prev" title="react-native-create-library 中文文档">
      <i class="fa fa-chevron-left"></i> react-native-create-library 中文文档
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/%E5%9C%A8%20React%20Native%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20mobx/" rel="next" title="在 React Native 中使用 mobx">
      在 React Native 中使用 mobx <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>
  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#react-native-exception-handler"><span class="nav-number">1.</span> <span class="nav-text">react-native-exception-handler </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7-V2"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">升级 - V2:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.</span> <span class="nav-text">自动化配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">1.3.</span> <span class="nav-text">手动配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#iOS"><span class="nav-number">1.3.0.1.</span> <span class="nav-text">iOS</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Using-Cocoapods"><span class="nav-number">1.3.0.1.1.</span> <span class="nav-text">Using Cocoapods</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Android"><span class="nav-number">1.3.0.2.</span> <span class="nav-text">Android</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%B7%E5%9C%A8%E4%BD%BF%E7%94%A8%E9%83%A8%E5%88%86%E4%B9%8B%E5%89%8D%E9%98%85%E8%AF%BB"><span class="nav-number">1.4.</span> <span class="nav-text">请在使用部分之前阅读</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-number">1.5.</span> <span class="nav-text">使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="nav-number">1.6.</span> <span class="nav-text">自定义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Android-1"><span class="nav-number">1.6.1.</span> <span class="nav-text">Android</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ios"><span class="nav-number">1.6.2.</span> <span class="nav-text">ios</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%99%E5%AE%89%E5%8D%93%E5%B9%B3%E5%8F%B0%E7%9A%84%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="nav-number">1.7.</span> <span class="nav-text">给安卓平台的高级用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E5%8E%9F%E7%94%9F%E9%94%99%E8%AF%AF"><span class="nav-number">1.8.</span> <span class="nav-text">测试原生错误</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="杨俊宁"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">杨俊宁</p>
  <div class="site-description" itemprop="description">前端工程师、终身学习践行者</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">64</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">71</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lvdW5nanVuaW5n" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;youngjuning"><i class="fa fa-fw fa-github"></i></span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnlvdW5nanVuaW5nQGFsaXl1bi5jb20=" title="E-Mail → mailto:youngjuning@aliyun.com"><i class="fa fa-fw fa-envelope"></i></span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly93ZWliby5jb20veWFuZ2p1bm5pbmdtYW8=" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;yangjunningmao"><i class="fa fa-fw fa-weibo"></i></span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy84NTY0NDAzL3lvdW5nanVuaW5n" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;8564403&#x2F;youngjuning"><i class="fa fa-fw fa-stack-overflow"></i></span>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9jaGVueXVodS5qcy5vcmcv" title="https:&#x2F;&#x2F;chenyuhu.js.org&#x2F;">陈锋个人博客</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9sbHN0YXIuZ2l0aHViLmlvLw==" title="https:&#x2F;&#x2F;llstar.github.io&#x2F;">LLstar的个人博客</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vR3Jld2VyLw==" title="https:&#x2F;&#x2F;www.cnblogs.com&#x2F;Grewer&#x2F;">张煜的个人博客</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9taXJhcmkuY2Mv" title="https:&#x2F;&#x2F;mirari.cc&#x2F;">Mirari's Blog</span>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">杨俊宁的博客</span>
  <span class="post-meta-divider">|</span>
  <a target="_blank" href="/sitemap.xml" style="border-bottom: 0px"><span style="color: #999;"><i class="fa fa-sitemap"> 站点地图</i></span></a>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">297k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">4:30</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> 强力驱动 v5.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Gemini</span> v7.7.1
  </div>
  <div class="addthis_inline_share_toolbox">
    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e3a8b23db295557" async="async"></script>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.getAttribute('pjax') !== null) {
      script.setAttribute('pjax', '');
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  
  <script pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>









<script pjax>
if (document.querySelectorAll('div.pdf').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js', () => {
    document.querySelectorAll('div.pdf').forEach(element => {
      PDFObject.embed(element.getAttribute('target'), element, {
        pdfOpenParams: {
          navpanes : 0,
          toolbar  : 0,
          statusbar: 0,
          pagemode : 'thumbs',
          view     : 'FitH'
        },
        PDFJS_URL: '/lib/pdf/web/viewer.html',
        height: element.getAttribute('height') || '500px'
      });
    });
  }, window.PDFObject);
}
</script>




    <div id="pjax">
  

  

<script>
  var disqus_config = function() {
    this.page.url = "http://youngjuning.js.org/2019/06/react-native-exception-handler%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/";
    this.page.identifier = "2019/06/react-native-exception-handler中文文档/";
    this.page.title = "react-native-exception-handler 中文文档";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://youngjuning.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

    </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"tagMode":false});</script></body>
</html>
